<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<title>永城一高2023级高三分班查询系统</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:"Microsoft YaHei",sans-serif}
body{background:#f2f2f2}
.sub_top{height:44px;line-height:44px;background:#0066cc;color:#fff;display:flex;padding:0 10px;font-size:18px;font-weight:bold}
.back a{color:#fff;text-decoration:none}
.main{background:#fff;margin:10px;padding:10px;border-radius:6px}
.txts,.buts{width:100%;font-size:16px;border-radius:4px;margin-bottom:12px}
.txts{padding:8px 6px;border:1px solid #ccc}
.buts{padding:10px 0;color:#fff;border:none;cursor:pointer;background:#0066cc}
.startBtn{background:#28a745}
.so_boxex,.equation{font-size:14px;color:#666;text-align:center;margin-top:20px}
.equation{margin:12px 0;color:#333}
</style>
</head>
<body>
<div class="sub_top">
  <a class="back" href="javascript:history.back()">返回</a>
  <div style="flex:1;text-align:center">永城一高2023级高三分班查询系统</div>
</div>

<div class="main">
  <input id="name" class="txts" placeholder="请输入姓名" maxlength="20">
  <button id="startBtn" class="buts startBtn">开始解方程</button>
  <div id="eq" class="equation"></div>
  <input id="ans" class="txts" placeholder="两解用中文逗号隔开，例如1，2">
  <button id="queryBtn" class="buts">立即查询</button>
  <div class="so_boxex">免责声明：仅供娱乐，与实际分班无关</div>
</div>

<script>
const $ = id => document.getElementById(id);
let ans, start;

const gen = () => {
  const x1 = Math.floor(Math.random() * 11) - 5,
        x2 = Math.floor(Math.random() * 11) - 5;
  ans = [x1, x2].sort((a, b) => a - b);
  const b = -(x1 + x2), c = x1 * x2;
  $('eq').textContent = `请解方程：x²${b?`${b<0?'':'+'}${b}x`:''}${c?`${c<0?'':'+'}${c}`:''}=0`;
};

$('startBtn').onclick = () => {
  gen();
  start = Date.now();
  $('startBtn').disabled = true;
  $('startBtn').textContent = '计时中…';
};

$('queryBtn').onclick = () => {
  if (!start) return alert('请先点击“开始解方程”');
  const name = $('name').value.trim();
  if (!name) return alert('请输入姓名');
  const u = $('ans').value.trim().split('，').map(Number).sort((a,b)=>a-b);
  if (u.length !== 2 || u.some(isNaN)) return alert('格式错误');
  if (ans.join() !== u.join()) return alert('方程解错了哦～');
  const t = (Date.now() - start) / 1e3,
        pool = (t <= 30 ? [5,6,7,8,9,10,11,12,28,29,30,31,32,33,34,35]
                        : [13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50]),
        cls = pool[Math.floor(Math.random() * pool.length)],
        type = t <= 30 ? '加强班' : '普通班';
  document.body.innerHTML = `
    <style>
      body{display:flex;justify-content:center;align-items:center;height:100vh;background:#f2f2f2}
      .box{background:#fff;padding:30px 50px;border-radius:8px;text-align:center;box-shadow:0 4px 12px rgba(0,0,0,.1)}
      .name{font-size:24px;font-weight:bold;color:#0066cc;margin-bottom:15px}
      .info{font-size:20px;margin-bottom:10px}
      .note{font-size:14px;color:#999;margin-top:20px}
    </style>
    <div class="box">
      <div class="name">${name}</div>
      <div class="info">恭喜你被分入 ${cls} 班（${type}）</div>
      <div class="info">解题用时: ${t.toFixed(2)} 秒</div>
      <div class="note">注：此结果仅供娱乐，与实际分班无关</div>
    </div>`;
};
</script>
</body>
</html>